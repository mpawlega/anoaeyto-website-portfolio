<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Interlude of the Nebular Web — anoaeyto</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;1,9..40,300&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
        }

        :root {
            --teal: #00b8a8;
            --teal-dim: rgba(0, 184, 168, 0.15);
            --teal-border: rgba(0, 184, 168, 0.35);
            --white: #ffffff;
            --text: #d4d4d4;
            --muted: #888;
            --faint: #444;
            --bg: #000;
            --surface: rgba(255,255,255,0.02);
            --rule: rgba(255,255,255,0.08);
        }

        html { scroll-behavior: auto; }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            overflow-x: hidden;
            cursor: none;
        }

        /* ── CURSOR ───────────────────────────────────── */
        .cursor-dot {
            position: fixed;
            width: 6px; height: 6px;
            background: var(--teal);
            border-radius: 50%;
            pointer-events: none;
            z-index: 99999;
            transform: translate(-50%, -50%);
            transition: transform 0.08s ease;
        }
        .cursor-ring {
            position: fixed;
            width: 28px; height: 28px;
            border: 1px solid rgba(0, 184, 168, 0.5);
            border-radius: 50%;
            pointer-events: none;
            z-index: 99998;
            transform: translate(-50%, -50%);
            transition: transform 0.18s ease, width 0.2s ease, height 0.2s ease, opacity 0.2s ease;
        }

        /* ── HUD ELEMENTS ──────────────────────────────── */
        .version-hud {
            position: fixed;
            top: 20px;
            right: 20px;
            font-size: 11px;
            letter-spacing: 1px;
            color: var(--teal);
            z-index: 9997;
            text-align: right;
            line-height: 1.6;
            font-family: 'Eurostile', 'Eurostile Extended', monospace;
        }

        .coords-hud {
            position: fixed;
            bottom: 20px;
            left: 20px;
            font-size: 11px;
            letter-spacing: 1px;
            color: var(--teal);
            z-index: 9997;
            font-family: 'Eurostile', 'Eurostile Extended', monospace;
        }

        /* ── SECTION NAV ──────────────────────────────── */
        .section-nav {
            position: fixed;
            right: 40px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 20px;
            z-index: 100;
        }

        .section-nav a {
            text-decoration: none;
            color: var(--muted);
            font-size: 11px;
            letter-spacing: 1.5px;
            transition: color 0.3s;
            opacity: 0.6;
            font-family: 'Eurostile', 'Eurostile Extended', monospace;
        }

        .section-nav a:hover,
        .section-nav a.active {
            color: var(--teal);
            opacity: 1;
        }

        @media (max-width: 1200px) {
            .section-nav {
                display: none;
            }
        }

        /* ── HERO ─────────────────────────────────────── */
        .project-hero {
            width: 100%;
            height: 42vh;
            min-height: 280px;
            max-height: 460px;
            overflow: hidden;
            position: relative;
        }
        .project-hero img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center 30%;
            filter: brightness(0.55) saturate(0.9);
            transition: filter 0.8s ease;
            opacity: 0;
            animation: fadeInImage 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
            animation-delay: 0.2s;
        }
        .project-hero:hover img { filter: brightness(0.7) saturate(1); }
        .hero-overlay {
            position: absolute; inset: 0;
            background: linear-gradient(to bottom, transparent 40%, var(--bg) 100%);
            pointer-events: none;
        }

        /* ── TITLE SECTION ────────────────────────────── */
        .project-title-section {
            position: relative;
            z-index: 10;
            padding: 60px 80px;
            border-bottom: 1px solid var(--rule);
            max-width: 1600px;
            margin: 0 auto;
        }

        .title-eyebrow {
            font-size: 10px;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--teal);
            margin-bottom: 18px;
            font-family: 'Eurostile', 'Eurostile Extended', monospace;
        }

        .project-title-section h1 {
            font-size: clamp(36px, 5vw, 64px);
            font-weight: 300;
            letter-spacing: 2px;
            line-height: 1.1;
            color: var(--white);
            margin-bottom: 28px;
            max-width: 900px;
            opacity: 0;
            font-family: 'Eurostile', 'Eurostile Extended', monospace;
            animation: fadeInDown 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
            animation-delay: 0.4s;
        }

        .project-title-section .tagline {
            font-size: 15px;
            line-height: 1.65;
            color: var(--muted);
            max-width: 900px;
            margin-bottom: 52px;
            opacity: 0;
            font-family: 'DM Sans', sans-serif;
            font-weight: 400;
            letter-spacing: 0;
            animation: fadeInDown 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
            animation-delay: 0.5s;
        }

        /* meta row */
        .project-meta-info {
            display: grid;
            grid-template-columns: repeat(4, auto);
            gap: 20px;
        }
        .meta-item {
            padding-right: 48px;
            border-right: 1px solid var(--rule);
            margin-right: 0;
        }
        .meta-item:last-of-type {
            border-right: none;
        }
        .meta-label {
            font-size: 9px;
            letter-spacing: 2.5px;
            text-transform: uppercase;
            color: var(--faint);
            margin-bottom: 10px;
            font-family: 'Eurostile', 'Eurostile Extended', monospace;
        }
        .meta-value {
            font-size: 13px;
            color: var(--text);
            letter-spacing: 0.3px;
            font-family: 'DM Sans', sans-serif;
            font-weight: 400;
        }
        .meta-value .tag {
            display: inline-block;
            padding: 5px 12px;
            border: 1px solid var(--rule);
            background: var(--surface);
            font-size: 10px;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: var(--text);
            margin-right: 10px;
            margin-bottom: 8px;
            font-family: 'Eurostile', 'Eurostile Extended', monospace;
        }

        /* ── CONTENT SECTIONS ────────────────────────── */
        .project-content {
            padding: 0 80px 120px;
            position: relative;
            z-index: 10;
            max-width: 1600px;
            margin: 0 auto;
        }

        .content-section {
            margin-top: 80px;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 48px;
            padding-bottom: 0;
            border-bottom: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.7s cubic-bezier(0.22, 1, 0.36, 1), transform 0.7s cubic-bezier(0.22, 1, 0.36, 1);
        }
        
        .content-section.visible .section-header {
            opacity: 1;
            transform: translateY(0);
        }
        
        .section-header h2 {
            font-size: clamp(22px, 3vw, 36px);
            font-weight: 100;
            letter-spacing: 2px;
            color: var(--white);
            white-space: nowrap;
            font-family: 'Eurostile', 'Eurostile Extended', monospace;
        }
        .section-header .section-rule {
            flex: 1;
            height: 1px;
            background: linear-gradient(90deg, var(--teal-border), transparent);
            margin: 0;
        }

        .gallery-intro {
            font-size: 14px;
            line-height: 1.65;
            color: var(--muted);
            max-width: 900px;
            margin-bottom: 50px;
            margin-top: 20px;
            font-family: 'DM Sans', sans-serif;
            font-weight: 400;
            letter-spacing: 0;
        }

        /* Body paragraphs in content sections */
        .content-section > p,
        .content-section p:not(.gallery-intro) {
            font-family: 'DM Sans', sans-serif;
            font-weight: 400;
            font-size: 15px;
            line-height: 1.65;
            color: var(--text);
            letter-spacing: 0;
        }

        /* ── GALLERY ITEM WITH CROSSFADE LAYER ────────── */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: calc((100vw - 160px - 24px) / 3 * 5 / 4) calc((100vw - 160px - 24px) / 3 * 5 / 4);
            width: 100%;
            column-gap: 12px;
            row-gap: 12px;
        }

        /* ── CANVAS GRAIN OVERLAY ─────────────────────── */
        .grain-canvas {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 4;
            opacity: 0.055;
            mix-blend-mode: screen;
        }

        /* ── TD GRAIN FILTER ──────────────────────────── */
        .td-noise-wrap {
            position: relative;
        }

        .td-noise-wrap video {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .td-noise-wrap::after {
            content: '';
            position: absolute;
            inset: 0;
            pointer-events: none;
            z-index: 3;
            filter: url(#td-grain);
            background: transparent;
            mix-blend-mode: soft-light;
            opacity: 0.82;
        }

        /* ── WORKFLOW GRID (Isolated from main gallery) ─ */
        .workflow-grid {
            display: grid !important;
            grid-template-columns: 1fr !important;
            gap: 12px;
        }

        #workflow-grid {
            display: grid !important;
            grid-template-columns: 1fr !important;
            width: 100%;
            gap: 12px;
        }

        #workflow-grid .gallery-item,
        .workflow-grid .gallery-item {
            overflow: hidden;
            border: 1px solid var(--rule);
            position: relative;
            background: #0a0a0a;
            opacity: 1 !important;
            transform: none !important;
            transition: none !important;
            aspect-ratio: 16 / 5 !important;
            width: 100% !important;
            min-width: 0 !important;
            grid-column: auto !important;
            grid-row: auto !important;
        }

        #workflow-grid .gallery-item.visible,
        .workflow-grid .gallery-item.visible {
            opacity: 1 !important;
            transform: none !important;
        }
        
        #workflow-grid .gallery-item img,
        #workflow-grid .gallery-item video,
        .workflow-grid .gallery-item img,
        .workflow-grid .gallery-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            filter: brightness(0.88);
            transition: filter 0.6s ease-in-out;
        }
        
        #workflow-grid .gallery-item:hover img,
        #workflow-grid .gallery-item:hover video,
        .workflow-grid .gallery-item:hover img,
        .workflow-grid .gallery-item:hover video {
            filter: brightness(1);
        }
        
        #workflow-grid .gallery-item.dimmed img,
        #workflow-grid .gallery-item.dimmed video,
        .workflow-grid .gallery-item.dimmed img,
        .workflow-grid .gallery-item.dimmed video {
            filter: brightness(0.5) !important;
            transition: filter 0.6s ease-in-out;
        }

        #workflow-grid .gallery-item.dimmed .grain-canvas,
        .workflow-grid .gallery-item.dimmed .grain-canvas {
            opacity: 0 !important;
            transition: opacity 0.6s ease-in-out;
        }

        .grain-canvas {
            transition: opacity 0.6s ease-in-out;
        }

        .gallery-item {
            overflow: hidden;
            border: 1px solid var(--rule);
            position: relative;
            background: #000000;
            opacity: 1;
            transform: none;
            transition: none;
        }

        /* ── CROSSFADE LAYERS ──────────────────────────── */
        .gallery-item .media-layer {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            filter: brightness(0.88);
            transition: opacity 1.8s cubic-bezier(0.4, 0, 0.2, 1), filter 0.6s ease-in-out;
        }

        .gallery-item .media-layer.layer-back {
            z-index: 1;
            opacity: 1;
        }

        .gallery-item .media-layer.layer-front {
            z-index: 2;
            opacity: 0;
        }

        .gallery-item .media-layer.layer-front.visible {
            opacity: 1;
        }

        .gallery-item .media-layer.layer-front.fading-out {
            opacity: 0;
        }

        .gallery-item:hover .media-layer {
            filter: brightness(1);
        }

        .gallery-item.dimmed .media-layer {
            filter: brightness(0.5) !important;
        }

        .gallery-item > img:not(.media-layer),
        .gallery-item > video:not(.media-layer) {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            filter: brightness(0.88);
            transition: filter 0.6s ease-in-out;
        }

        .gallery-item:hover > img:not(.media-layer),
        .gallery-item:hover > video:not(.media-layer) {
            filter: brightness(1);
        }

        .gallery-item.dimmed > img:not(.media-layer),
        .gallery-item.dimmed > video:not(.media-layer) {
            filter: brightness(0.5) !important;
        }
        
        /* Row 1: item 1 (merged 2 cols) */
        .gallery-item:nth-child(1) { 
            grid-column: span 2; 
        }
        /* Row 1: item 2 */
        .gallery-item:nth-child(2) { 
            grid-column: span 1;
        }
        
        /* Row 2: items 3-5 - much taller */
        .gallery-item:nth-child(3) { 
            grid-column: span 1;
            aspect-ratio: 4 / 5;
        }
        .gallery-item:nth-child(4) { 
            grid-column: span 1;
            aspect-ratio: 4 / 5;
        }
        .gallery-item:nth-child(5) { 
            grid-column: span 1;
            aspect-ratio: 4 / 5;
        }
        
        .gallery-item:nth-child(n+6) { display: none; }

        .gallery-item.visible {
            /* items are always visible — class kept for carousel compat */
        }

        .gallery-item.placeholder {
            background: #0c0c0c;
            border: 1px dashed #222;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .gallery-item.placeholder span {
            font-size: 9px;
            letter-spacing: 2px;
            color: #333;
            text-transform: uppercase;
        }

        /* ── LINKS SECTION ────────────────────────────── */
        .links-section {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 0 0 10px 0;
            flex-wrap: wrap;
            align-items: center;
        }

        .links-section a:not(.view-project-btn):not(.project-nav-item) {
            text-decoration: none;
            color: #00b8a8;
            font-size: 10px;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            transition: all 0.25s ease;
            position: relative;
            padding: 9px 16px;
            border: 1px solid #00b8a8;
            background: rgba(0, 184, 168, 0.12);
            font-family: 'Eurostile', 'Eurostile Extended', monospace;
        }

        .links-section a:not(.view-project-btn):not(.project-nav-item)::before {
            content: '[';
            margin-right: 4px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .links-section a:not(.view-project-btn):not(.project-nav-item)::after {
            content: ']';
            margin-left: 4px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .links-section a:not(.view-project-btn):not(.project-nav-item):hover {
            color: #00b8a8;
            background: rgba(0, 184, 168, 0.2);
            border-color: #00b8a8;
        }

        .links-section a:not(.view-project-btn):not(.project-nav-item):hover::before,
        .links-section a:not(.view-project-btn):not(.project-nav-item):hover::after {
            opacity: 1;
        }
        
        .links-section .project-nav-item {
            color: var(--muted);
            padding: 9px 16px;
            border: 1px solid rgba(255,255,255,0.1);
            background: transparent;
            font-size: 10px;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            transition: all 0.25s ease;
            text-decoration: none;
            font-family: 'Eurostile', 'Eurostile Extended', monospace;
        }

        /* ── CHANGE: brackets on .project-nav-item hover ── */
        .links-section .project-nav-item::before {
            content: '[';
            margin-right: 4px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .links-section .project-nav-item::after {
            content: ']';
            margin-left: 4px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .links-section .project-nav-item:hover {
            color: var(--text);
            border-color: rgba(255,255,255,0.2);
        }

        .links-section .project-nav-item:hover::before,
        .links-section .project-nav-item:hover::after {
            opacity: 1;
        }

        /* ── LIGHTBOX ─────────────────────────────────── */
        .lightbox {
            position: fixed; inset: 0;
            background: rgba(0,0,0,0.95);
            z-index: 99990;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }
        .lightbox.open {
            opacity: 1;
            pointer-events: all;
        }
        .lightbox img,
        .lightbox video {
            max-width: 90vw;
            max-height: 90vh;
            object-fit: contain;
            border: 1px solid var(--rule);
            opacity: 1;
            transition: opacity 0.15s ease;
        }

        .lightbox img.fading,
        .lightbox video.fading {
            opacity: 0;
        }
        .lightbox-close {
            position: absolute;
            top: 40px; right: 40px;
            font-size: 28px;
            color: var(--teal);
            border: none;
            padding: 0;
            background: none;
            font-family: inherit;
            transition: color 0.2s;
            line-height: 1;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        .lightbox-close:hover { color: rgba(0, 184, 168, 0.7); }

        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 28px;
            color: var(--teal);
            border: none;
            padding: 12px 20px;
            background: none;
            font-family: inherit;
            transition: color 0.2s;
            z-index: 99991;
            cursor: pointer;
        }

        .lightbox-nav:hover {
            color: rgba(0, 184, 168, 0.7);
        }

        .lightbox-nav.prev { left: 40px; }
        .lightbox-nav.next { right: 40px; }

        .lightbox-nav:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .lightbox-nav:disabled:hover {
            color: var(--teal);
        }

        /* ── SEE MORE BUTTON ──────────────────────────── */
        .gallery-see-more-wrapper {
            display: none;
            justify-content: center;
            margin-top: 48px;
        }

        .btn-see-more {
            padding: 12px 28px;
            border: 1px solid var(--teal-border);
            background: transparent;
            color: var(--teal);
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: all 0.3s ease;
            font-family: inherit;
            cursor: pointer;
        }

        .btn-see-more:hover {
            background: var(--teal-dim);
            border-color: var(--teal);
        }

        /* ── FOOTER ───────────────────────────────────── */
        footer {
            padding: 30px 80px;
            background: var(--bg);
            border-top: 1px solid rgba(255,255,255,0.04);
            border-bottom: 1px solid var(--teal-border);
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .footer-copy {
            font-size: 12px;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #666;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            font-family: 'Eurostile', 'Eurostile Extended', monospace;
        }

        .footer-copy span {
            display: inline-block;
            transition: color 0.15s ease;
        }

        .footer-copy span.cyan {
            color: #00b8a8;
        }

        /* ── ANIMATIONS ────────────────────────────────– */
        @keyframes fadeInImage {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* ── TD SECTION SCROLL-REVEAL ─────────────────── */
        #workflow-grid .gallery-item,
        #workflow-grid-images .gallery-item {
            opacity: 0 !important;
            transform: translateY(28px) !important;
            transition: opacity 0.78s cubic-bezier(0.22, 1, 0.36, 1),
                        transform 0.78s cubic-bezier(0.22, 1, 0.36, 1) !important;
        }

        #workflow-grid .gallery-item.td-revealed,
        #workflow-grid-images .gallery-item.td-revealed {
            opacity: 1 !important;
            transform: translateY(0) !important;
        }

        /* ── TD DIVIDER TEXT ──────────────────────────── */
        .td-divider-text {
            font-family: 'DM Sans', sans-serif;
            font-weight: 400;
            font-size: 15px;
            line-height: 1.65;
            color: var(--text);
            max-width: 900px;
            padding: 52px 0 52px 0;
            letter-spacing: 0;
        }

        .td-accent {
            color: var(--teal);
            font-weight: 500;
        }

        /* Scroll animation for all .td-scroll-item elements */
        .td-scroll-item {
            opacity: 0;
            transform: translateY(24px);
            transition: opacity 0.75s cubic-bezier(0.22, 1, 0.36, 1),
                        transform 0.75s cubic-bezier(0.22, 1, 0.36, 1);
        }

        .td-scroll-item.td-revealed {
            opacity: 1 !important;
            transform: translateY(0) !important;
        }

        #workflow-grid .gallery-item.td-scroll-item,
        #workflow-grid-images .gallery-item.td-scroll-item {
            opacity: 0 !important;
            transform: translateY(24px) !important;
        }

        #workflow-grid .gallery-item.td-scroll-item.td-revealed,
        #workflow-grid-images .gallery-item.td-scroll-item.td-revealed {
            opacity: 1 !important;
            transform: translateY(0) !important;
        }

        /* Hidden items in gallery */
        .gallery-grid .gallery-item.hidden-item {
            display: none;
        }
        .gallery-grid .gallery-item.hidden-item.visible {
            display: block;
        }

        /* ── RESPONSIVE ───────────────────────────────── */
        @media (max-width: 1200px) {
            .gallery-grid { grid-template-columns: repeat(3, 1fr); }
            .gallery-item:nth-child(1) { grid-column: span 2; }
            .gallery-item:nth-child(2) { grid-column: span 1; }
            .gallery-item:nth-child(3) { grid-column: span 1; }
            .gallery-item:nth-child(4) { grid-column: span 1; }
            .gallery-item:nth-child(5) { grid-column: span 1; }
        }

        @media (max-width: 768px) {
            .gallery-grid { grid-template-columns: 1fr; }
            .gallery-item:nth-child(1) { grid-column: span 1; }
            .gallery-item:nth-child(2) { grid-column: span 1; }
            .gallery-item:nth-child(3) { grid-column: span 1; }
            .gallery-item:nth-child(4) { grid-column: span 1; }
            .gallery-item:nth-child(5) { grid-column: span 1; }
        }
    </style>
</head>
<body>
    <!-- Custom cursor -->
    <div class="cursor-dot" id="dot"></div>
    <div class="cursor-ring" id="ring"></div>

    <!-- SVG Noise Filter Definition -->
    <svg style="position:absolute;width:0;height:0;overflow:hidden;" aria-hidden="true">
        <defs>
            <filter id="td-grain" x="0%" y="0%" width="100%" height="100%" color-interpolation-filters="sRGB">
                <feTurbulence
                    type="fractalNoise"
                    baseFrequency="0.72 0.68"
                    numOctaves="4"
                    seed="2"
                    stitchTiles="stitch"
                    result="noise">
                    <animate attributeName="seed" values="2;14;7;31;5;19;2" dur="0.18s" repeatCount="indefinite"/>
                </feTurbulence>
                <feComponentTransfer in="noise" result="softnoise">
                    <feFuncR type="linear" slope="0.55" intercept="0.225"/>
                    <feFuncG type="linear" slope="0.55" intercept="0.225"/>
                    <feFuncB type="linear" slope="0.55" intercept="0.225"/>
                    <feFuncA type="linear" slope="1" intercept="0"/>
                </feComponentTransfer>
                <feBlend in="SourceGraphic" in2="softnoise" mode="soft-light" result="blended"/>
                <feComponentTransfer in="blended">
                    <feFuncR type="gamma" amplitude="1" exponent="0.92" offset="-0.02"/>
                    <feFuncG type="gamma" amplitude="1" exponent="0.92" offset="-0.02"/>
                    <feFuncB type="gamma" amplitude="1" exponent="0.95" offset="-0.02"/>
                </feComponentTransfer>
            </filter>
        </defs>
    </svg>

    <!-- HUD Elements -->
    <div class="version-hud">
        v2.0.2<br>
        STATUS: ONLINE
    </div>
    <div class="coords-hud">
        X: <span id="coord-x">0000</span> Y: <span id="coord-y">0000</span>
    </div>

    <!-- Section Navigation -->
    <nav class="section-nav">
        <a href="#section-01" data-section="01">01</a>
        <a href="#section-02" data-section="02">02</a>
        <a href="#section-03" data-section="03">03</a>
        <a href="#section-04" data-section="04">04</a>
    </nav>

    <!-- Hero Banner -->
    <section class="project-hero">
        <img src="./projects/IMG_6226.JPG" alt="Cosmic Interlude — Hero" id="banner-img">
        <div class="hero-overlay"></div>
    </section>

    <!-- Title & Meta -->
    <section class="project-title-section">
        <div class="title-eyebrow">Interactive Audiovisual Installation</div>
        <h1>Cosmic Interlude of the Nebular Web</h1>
        <p class="tagline">
            Cosmic Interlude of the Nebular Web explores the interconnectedness of the natural world by delving into the cosmos. This cosmic realm allows for the interaction of clouds of dust and stars. These stars exist in unison, performing a cosmic dance as they flow amongst one another. As they cascade amongst the cosmos, they leave ripples in the cosmic grid, marking their presence in the universe. These bodies coexist with a massive galaxy that encloses them in a space of vibrant hues and spectacular visuals. The beauty and mystery of the cosmos highlight the importance of its components and the role of interaction. Though the scale of galaxies, stars, and particles vary significantly, they each play crucial roles in the universe's formation. As we dance amongst the cosmos and interact, we build the universe.
        </p>

        <div class="project-meta-info">
            <div class="meta-item">
                <div class="meta-label">Category</div>
                <div class="meta-value">
                    <span class="tag">Interactive Installation</span>
                    <span class="tag">Audiovisual</span>
                </div>
            </div>
            <div class="meta-item">
                <div class="meta-label">Year</div>
                <div class="meta-value">2025</div>
            </div>
            <div class="meta-item">
                <div class="meta-label">Course</div>
                <div class="meta-value">FINE 247</div>
            </div>
            <div class="meta-item">
                <div class="meta-label">Tools</div>
                <div class="meta-value">
                    <span class="tag">TouchDesigner</span>
                    <span class="tag">Photoshop</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Content -->
    <section class="project-content">

        <!-- 01 Overview & Concept -->
        <div class="content-section">
            <div class="section-header" id="section-01">
                <span class="section-index">01</span>
                <h2>Overview & Concept</h2>
                <div class="section-rule"></div>
            </div>
            <p>Cosmic Interlude of the Nebular Web is a FINE 247 course final project featured at THE MUSEUM in Kitchener-Waterloo, Ontario. Created by Alex Chau and Matilda Pawlega, this interactive audiovisual installation invites viewers to explore the cosmos and their place within the universe. The work celebrates the interconnectedness of all things—from massive galaxies to minuscule particles—and emphasizes that even on the smallest scales, there is beauty and meaning as we explore and interact with the cosmic web.</p>
            <p style="margin-top: 20px;">It is easy to forget the significance of humanity when looking at the scale of the universe, and forming a sense of meaning can become skewed. However, even on minuscule scales, there is beauty and meaning as we explore and interact with the cosmic web. The installation uses SOP and TOP operations within TouchDesigner to create dynamic visuals—including particle systems, force simulations, feedback loops, and bloom effects. The accompanying audio composition sonifies NASA data from 5,000 discovered exoplanets, allowing visitors to literally hear the scale of cosmic discovery and our role within it all.</p>
        </div>

        <!-- 02 Gallery -->
        <div class="content-section">
            <div class="section-header" id="section-02">
                <span class="section-index">02</span>
                <h2>Gallery</h2>
                <div class="section-rule"></div>
            </div>
            <p class="gallery-intro">A collection of visual moments from the Cosmic Interlude installation, capturing the interplay of light, particle systems, and cosmic motion.</p>
            <div class="gallery-grid" id="gallery-grid">
                <!-- Gallery items populated by JS -->
            </div>
            <div class="gallery-see-more-wrapper">
                <button class="btn-see-more" id="btn-gallery">View all images</button>
            </div>
        </div>

        <!-- 03 TouchDesigner Workflow -->
        <div class="content-section">
            <div class="section-header" id="section-03">
                <span class="section-index">03</span>
                <h2>TouchDesigner Workflow</h2>
                <div class="section-rule"></div>
            </div>
            <p class="gallery-intro">Technical documentation and visual breakdown of the TouchDesigner workflow, showing the architecture and key operational nodes.</p>
            <div class="workflow-grid" id="workflow-grid">
                <div class="gallery-item visible with-grain td-scroll-item">
                    <video src="./projects/eyepool/TD/copy_galaxy.mp4" muted playsinline preload="metadata" loop width="100%" height="100%"></video>
                </div>
                <div class="gallery-item visible with-grain td-scroll-item">
                    <video src="./projects/eyepool/TD/copy_lights.mp4" muted playsinline preload="metadata" loop width="100%" height="100%"></video>
                </div>
            </div>
            <p class="td-divider-text td-scroll-item">The technical setup uses the <span class="td-accent">Augmenta Simulator</span> Unity add-on to generate simulated person IDs, enabling projection mapping that responds to movement and presence in the space. A dedicated TouchDesigner patch drives the cosmic grid and galaxy effect — combining particle systems, force fields, and feedback loops to produce the real-time generative visuals seen in the installation. All project files, including the full TD patch and Augmenta configuration, are available to download via the GitHub link in the references below.</p>
            <div class="workflow-grid" id="workflow-grid-images">
                <div class="gallery-item visible td-scroll-item">
                    <video src="./projects/eyepool/TD/Augmenta_Simulator.mp4" muted playsinline autoplay preload="auto" loop width="100%" height="100%"></video>
                </div>
                <div class="gallery-item visible td-scroll-item">
                    <video src="./projects/eyepool/TD/TD_patch.mp4" muted playsinline autoplay preload="auto" loop width="100%" height="100%"></video>
                </div>
            </div>
        </div>

        <!-- 04 Links -->
        <div class="content-section">
            <div class="section-header" id="section-04">
                <span class="section-index">04</span>
                <h2>Links & References</h2>
                <div class="section-rule"></div>
            </div>
            <p class="gallery-intro">External resources and official event pages where you can learn more about the installation and the exhibition.</p>
            <div class="links-section">
                <a href="https://uwaterloo.ca/fine-arts/news/fine-247s-alt-verse-project-can-be-seen-themuseums-immersive" target="_blank">University of Waterloo News</a>
                <a href="https://luma.com/enm139az" target="_blank">LUMA Event Page</a>
                <a href="https://themuseum.ca/events/eyepool-presents-alt-verse-opening-reception/" target="_blank">THE MUSEUM Event Website</a>
                <a href="https://github.com/mpawlega/creative-coding/tree/main/cosmic-interlude" target="_blank">Download Cosmic Interlude Files</a>
                <a href="./projects" class="project-nav-item">Return to Projects</a>
            </div>
        </div>

    </section>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox" onclick="closeLightboxOnBackground(event)">
        <button class="lightbox-close" onclick="closeLightbox()">✕</button>
        <button class="lightbox-nav prev" id="lightbox-prev" onclick="lightboxPrev(event)">‹</button>
        <img id="lightbox-img" alt="Lightbox" onclick="event.stopPropagation()">
        <video id="lightbox-video" muted playsinline onclick="event.stopPropagation()"></video>
        <button class="lightbox-nav next" id="lightbox-next" onclick="lightboxNext(event)">›</button>
    </div>

    <footer>
        <div class="footer-copy" id="footer-copy">©2026anoaeyto</div>
    </footer>

    <script>
        // ── Scroll to top on page load ──────────────────
        if (history.scrollRestoration) history.scrollRestoration = 'manual';
        window.scrollTo(0, 0);

        // ── Custom cursor ──────────────────────────────
        const dot  = document.getElementById('dot');
        const ring = document.getElementById('ring');
        let mx = 0, my = 0, rx = 0, ry = 0;

        document.addEventListener('mousemove', e => {
            mx = e.clientX; my = e.clientY;
            dot.style.left = mx + 'px';
            dot.style.top  = my + 'px';
            document.getElementById('coord-x').textContent = String(e.clientX).padStart(4, '0');
            document.getElementById('coord-y').textContent = String(e.clientY).padStart(4, '0');
        });

        (function loop() {
            rx += (mx - rx) * 0.12;
            ry += (my - ry) * 0.12;
            ring.style.left = rx + 'px';
            ring.style.top  = ry + 'px';
            requestAnimationFrame(loop);
        })();

        document.querySelectorAll('button, a, .gallery-item').forEach(el => {
            el.addEventListener('mouseenter', () => { ring.style.width = '50px'; ring.style.height = '50px'; ring.style.opacity = '0.5'; });
            el.addEventListener('mouseleave', () => { ring.style.width = '28px'; ring.style.height = '28px'; ring.style.opacity = '1'; });
        });

        // ── Section Navigation Highlighting ───────────
        const sectionNavLinks = document.querySelectorAll('.section-nav a');
        const sections = document.querySelectorAll('[id^="section-"]');

        sectionNavLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    const rect = targetSection.getBoundingClientRect();
                    window.scrollTo({ top: window.pageYOffset + rect.top - 20, behavior: 'smooth' });
                }
            });
        });

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                if (window.pageYOffset >= section.offsetTop - 100) current = section.getAttribute('id');
            });
            sectionNavLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) link.classList.add('active');
            });
        });

        // ── Per-Container Image Configuration ──────────
        const containerImages = {
            0: [
                './projects/eyepool/Altverse - Feb 2025 - Facebook - ex.png',
                './projects/eyepool/IMG_0533.png',
                './projects/eyepool/IMG_0538.png',
                './projects/eyepool/IMG_0542.png'
            ],
            1: [
                './projects/eyepool/IMG_5324.jpg',
                './projects/eyepool/IMG_5325.jpg',
                './projects/eyepool/1.png',
                './projects/eyepool/2.png',
                './projects/eyepool/IMG_5223.JPG'
            ],
            2: [
                './projects/eyepool/IMG_5266.png',
                './projects/eyepool/Altverse - Feb 2025 - Portrait - ex.png',
                './projects/eyepool/IMG_5189.png',
                './projects/eyepool/IMG_5192.png',
                './projects/eyepool/IMG_5239.png'
            ],
            3: [
                './projects/eyepool/IMG_5321.mp4',
                './projects/eyepool/IMG_5220.mp4',
                './projects/eyepool/IMG_5221.mp4',
                './projects/eyepool/IMG_5225 - Trim.mp4'
            ],
            4: [
                './projects/eyepool/IMG_5267.png',
                './projects/eyepool/IMG_5269.png',
                './projects/eyepool/IMG_5283.png',
                './projects/eyepool/IMG_5199.png',
                './projects/eyepool/IMG_5219.JPG'
            ]
        };

        const galleryImages = Object.values(containerImages).map(imgs => imgs[0]);

        // ── Build Gallery DOM ──────────────────────────
        function populateGallery(gridId, images) {
            const grid = document.getElementById(gridId);
            if (!grid) return;

            grid.innerHTML = images.map((src) => {
                const isVideo = src.toLowerCase().endsWith('.mp4');
                const mediaTag = isVideo
                    ? `<video src="${src}" muted playsinline preload="metadata" width="100%" height="100%"></video>`
                    : `<img src="${src}" alt="Gallery item" loading="lazy">`;
                return `<div class="gallery-item">${mediaTag}</div>`;
            }).join('');

            attachGalleryHoverListeners(grid);
        }

        // ── See More Button ────────────────────────────
        let isTogglingGallery = false;
        const btnGallery = document.getElementById('btn-gallery');
        if (btnGallery) {
            btnGallery.addEventListener('click', function() {
                if (isTogglingGallery) return;
                isTogglingGallery = true;
                const hiddenItems = document.querySelectorAll('#gallery-grid .hidden-item');
                const allHidden = Array.from(hiddenItems).every(item => item.style.display === 'none');
                if (allHidden) {
                    hiddenItems.forEach(item => {
                        item.style.display = 'block';
                        setTimeout(() => item.classList.add('visible'), 10);
                    });
                    this.textContent = 'Show fewer images';
                } else {
                    hiddenItems.forEach(item => {
                        item.classList.remove('visible');
                        setTimeout(() => item.style.display = 'none', 500);
                    });
                    this.textContent = 'View all images';
                }
                isTogglingGallery = false;
            });
        }

        // ── Attach hover + click listeners ────────────
        function attachGalleryHoverListeners(gallery) {
            gallery.querySelectorAll('.gallery-item').forEach(item => {
                item.addEventListener('mouseenter', function() {
                    gallery.querySelectorAll('.gallery-item').forEach(s => {
                        if (s !== this) s.classList.add('dimmed');
                    });
                });

                item.addEventListener('mouseleave', function() {
                    gallery.querySelectorAll('.gallery-item').forEach(s => s.classList.remove('dimmed'));
                });

                item.addEventListener('click', function() {
                    const frontLayer = this.querySelector('.layer-front');
                    let src;
                    if (frontLayer && parseFloat(window.getComputedStyle(frontLayer).opacity) > 0.5) {
                        src = frontLayer.src;
                    } else {
                        const backLayer = this.querySelector('.layer-back');
                        src = backLayer ? backLayer.src : this.querySelector('img, video')?.src;
                    }
                    if (src) openLightbox(src, gallery, this);
                });
            });
        }

        // ── Autoplay gallery videos on scroll into view ──
        const galleryVideoObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const video = entry.target.querySelector('video');
                    if (video && !video.dataset.autoplayTriggered) {
                        video.dataset.autoplayTriggered = 'true';
                        video.loop = true;
                        video.play().catch(() => {});
                    }
                }
            });
        }, { threshold: 0.1 });

        function observeGalleryVideos(gridId) {
            document.querySelectorAll(`#${gridId} .gallery-item`).forEach(item => {
                if (item.querySelector('video')) galleryVideoObserver.observe(item);
            });
        }

        function startGalleryCarousel(galleryGrid) {
            const CYCLE_INTERVAL = 16000;
            const FADE_DURATION  = 1800;

            const allItems = Array.from(galleryGrid.querySelectorAll('.gallery-item'));
            const itemsToRotate = allItems.slice(0, 5);

            itemsToRotate.forEach((item, itemIdx) => {
                const images = containerImages[itemIdx] || [];
                if (images.length < 2) return;

                const existingMedia = item.querySelector('img, video');
                if (existingMedia?.tagName === 'VIDEO') return;

                item.innerHTML = '';

                const state = {
                    idx: 0,
                    layers: [null, null]
                };

                function makeEl(src) {
                    const isVid = src.toLowerCase().endsWith('.mp4');
                    const el = isVid ? document.createElement('video') : document.createElement('img');
                    el.className = 'media-layer';
                    el.style.position = 'absolute';
                    el.style.inset = '0';
                    el.style.width = '100%';
                    el.style.height = '100%';
                    el.style.objectFit = 'cover';
                    el.style.transition = 'opacity 1.8s cubic-bezier(0.4, 0, 0.2, 1), filter 0.6s ease-in-out';
                    if (isVid) { el.muted = true; el.playsInline = true; el.loop = true; }
                    el.src = src;
                    return el;
                }

                const layerA = makeEl(images[0]);
                layerA.style.zIndex = '1';
                layerA.style.opacity = '0';

                const layerB = makeEl(images[1 % images.length]);
                layerB.style.zIndex = '2';
                layerB.style.opacity = '0';

                item.appendChild(layerA);
                item.appendChild(layerB);

                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        layerA.style.opacity = '1';
                    });
                });

                state.layers = [layerA, layerB];
                state.idx = 0;

                function doCycle() {
                    const showIdx = (state.idx + 1) % images.length;
                    const hideLayer = state.layers[state.idx % 2];
                    const showLayer = state.layers[(state.idx + 1) % 2];

                    showLayer.style.opacity = '1';
                    showLayer.style.zIndex = '2';
                    hideLayer.style.zIndex = '1';

                    state.idx = showIdx;

                    setTimeout(() => {
                        hideLayer.style.opacity = '0';
                        const nextPrepIdx = (showIdx + 1) % images.length;
                        hideLayer.src = images[nextPrepIdx];
                    }, FADE_DURATION + 200);
                }

                setTimeout(() => {
                    setInterval(doCycle, CYCLE_INTERVAL);
                }, 800 + 5000 + itemIdx * 1200);
            });
        }

        // ── Populate + observe gallery ─────────────────
        populateGallery('gallery-grid', galleryImages);
        observeGalleryVideos('gallery-grid');

        const workflowGrid = document.getElementById('workflow-grid');
        const workflowGridImages = document.getElementById('workflow-grid-images');
        if (workflowGrid) attachGalleryHoverListeners(workflowGrid);
        if (workflowGridImages) attachGalleryHoverListeners(workflowGridImages);

        // ── TD section scroll-reveal ───────────────────
        const tdRevealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('td-revealed');
                    tdRevealObserver.unobserve(entry.target);
                }
            });
        }, { threshold: 0.08 });

        [workflowGrid, workflowGridImages].forEach(g => {
            if (!g) return;
            g.querySelectorAll('.td-scroll-item').forEach((item, i) => {
                item.style.transitionDelay = `${i * 0.12}s`;
                tdRevealObserver.observe(item);
            });
        });

        document.querySelectorAll('.td-divider-text').forEach(el => {
            tdRevealObserver.observe(el);
        });

        // ── TD workflow videos: autoplay on scroll into view ──
        const workflowVideoObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const video = entry.target.querySelector('video');
                    if (video && !video.dataset.autoplayTriggered) {
                        video.dataset.autoplayTriggered = 'true';
                        video.loop = true;
                        video.play().catch(() => {});
                    }
                }
            });
        }, { threshold: 0.05 });

        setTimeout(() => {
            document.querySelectorAll('#workflow-grid .gallery-item, #workflow-grid-images .gallery-item').forEach(item => {
                workflowVideoObserver.observe(item);
            });
        }, 100);

        // ── Canvas grain for first two TD videos ──────────
        function startCanvasGrain(container) {
            const canvas = document.createElement('canvas');
            canvas.className = 'grain-canvas';
            container.appendChild(canvas);

            const ctx = canvas.getContext('2d');
            let raf;
            let running = false;

            function resize() {
                canvas.width  = container.offsetWidth;
                canvas.height = container.offsetHeight;
            }

            function drawGrain() {
                const w = canvas.width;
                const h = canvas.height;
                if (w === 0 || h === 0) { raf = requestAnimationFrame(drawGrain); return; }

                ctx.clearRect(0, 0, w, h);

                const imageData = ctx.createImageData(w, h);
                const data = imageData.data;

                for (let i = 0; i < data.length; i += 4) {
                    if (Math.random() > 0.22) continue;
                    const v = (Math.random() * 160 + 60) | 0;
                    data[i]     = v;
                    data[i + 1] = v;
                    data[i + 2] = v;
                    data[i + 3] = 255;
                }

                ctx.putImageData(imageData, 0, 0);
                raf = requestAnimationFrame(drawGrain);
            }

            const visObs = new IntersectionObserver(entries => {
                entries.forEach(e => {
                    if (e.isIntersecting && !running) {
                        running = true;
                        resize();
                        drawGrain();
                    } else if (!e.isIntersecting && running) {
                        running = false;
                        cancelAnimationFrame(raf);
                    }
                });
            }, { threshold: 0.05 });

            visObs.observe(container);
            new ResizeObserver(resize).observe(container);
        }

        document.querySelectorAll('#workflow-grid .gallery-item.with-grain').forEach(item => {
            startCanvasGrain(item);
        });

        // ── Content Section Reveal ─────────────────────
        const sectionObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.15 });
        document.querySelectorAll('.content-section').forEach(s => sectionObserver.observe(s));

        // ── Gallery Carousel Start on scroll ──────────
        const galleryObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    galleryObserver.unobserve(entry.target);
                    if (entry.target.id === 'gallery-grid') {
                        startGalleryCarousel(entry.target);
                    }
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.gallery-grid').forEach(g => galleryObserver.observe(g));

        // ── Lightbox ───────────────────────────────────
        let currentGalleryItems = [];
        let currentImageIndex = -1;
        let currentClickedItem = null;

        function openLightbox(src, gallery, clickedItem) {
            if (!src) return;
            currentClickedItem = clickedItem;

            gallery.querySelectorAll('.gallery-item.dimmed').forEach(el => el.classList.remove('dimmed'));

            currentGalleryItems = Array.from(gallery.querySelectorAll('.gallery-item')).filter(
                item => item.style.display !== 'none'
            );
            currentImageIndex = currentGalleryItems.indexOf(clickedItem);

            setLightboxMedia(src);
            document.getElementById('lightbox').classList.add('open');
            updateLightboxNavigation();
        }

        function setLightboxMedia(src) {
            const lightboxImg   = document.getElementById('lightbox-img');
            const lightboxVideo = document.getElementById('lightbox-video');
            const isVideo = src.toLowerCase().endsWith('.mp4');

            if (isVideo) {
                lightboxImg.style.display = 'none';
                lightboxVideo.style.display = 'block';
                lightboxVideo.src = src;
                lightboxVideo.play().catch(() => {});
            } else {
                lightboxVideo.style.display = 'none';
                lightboxImg.style.display = 'block';
                lightboxImg.src = src;
            }
        }

        function getItemCurrentSrc(item) {
            const frontEl = item.querySelector('.media-layer[style*="z-index: 2"]');
            const singleEl = item.querySelector('img:not(.media-layer), video:not(.media-layer)');
            if (frontEl && parseFloat(frontEl.style.opacity) > 0.5) return frontEl.src;
            const backEl = item.querySelector('.media-layer[style*="z-index: 1"]');
            if (backEl) return backEl.src;
            return singleEl?.src;
        }

        function updateLightboxNavigation() {
            const prevBtn = document.getElementById('lightbox-prev');
            const nextBtn = document.getElementById('lightbox-next');
            if (currentGalleryItems.length <= 1) {
                prevBtn.style.display = 'none';
                nextBtn.style.display = 'none';
            } else {
                prevBtn.style.display = 'block';
                nextBtn.style.display = 'block';
                prevBtn.disabled = currentImageIndex === 0;
                nextBtn.disabled = currentImageIndex === currentGalleryItems.length - 1;
            }
        }

        function lightboxPrev(event) {
            event.stopPropagation();
            if (currentImageIndex > 0) fadeAndSwitch(currentImageIndex - 1);
        }

        function lightboxNext(event) {
            event.stopPropagation();
            if (currentImageIndex < currentGalleryItems.length - 1) fadeAndSwitch(currentImageIndex + 1);
        }

        function fadeAndSwitch(newIndex) {
            const lightboxImg   = document.getElementById('lightbox-img');
            const lightboxVideo = document.getElementById('lightbox-video');
            const media = lightboxImg.style.display !== 'none' ? lightboxImg : lightboxVideo;
            media.classList.add('fading');
            setTimeout(() => {
                currentImageIndex = newIndex;
                const src = getItemCurrentSrc(currentGalleryItems[currentImageIndex]);
                media.classList.remove('fading');
                if (src) setLightboxMedia(src);
                updateLightboxNavigation();
            }, 75);
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('open');
            currentGalleryItems = [];
            currentImageIndex = -1;
        }

        function closeLightboxOnBackground(event) {
            if (event.target.id === 'lightbox') closeLightbox();
        }

        document.addEventListener('keydown', e => {
            if (e.key === 'Escape') closeLightbox();
            if (e.key === 'ArrowLeft')  lightboxPrev({ stopPropagation: () => {} });
            if (e.key === 'ArrowRight') lightboxNext({ stopPropagation: () => {} });
        });

        // ── Animated Footer Copyright ──────────────────
        (function() {
            const footerCopyEl = document.getElementById('footer-copy');
            const originalText = '©2026anoaeyto';
            footerCopyEl.innerHTML = originalText.split('').map(char => `<span>${char}</span>`).join('');
            const chars = footerCopyEl.querySelectorAll('span');
            let isAnimating = false;

            function animateFooterCopy() {
                if (isAnimating) return;
                isAnimating = true;
                let currentChar = 0;
                const charInterval = setInterval(() => {
                    if (currentChar < chars.length) {
                        if (currentChar > 0) chars[currentChar - 1].classList.remove('cyan');
                        chars[currentChar].classList.add('cyan');
                        currentChar++;
                    } else {
                        chars[chars.length - 1].classList.remove('cyan');
                        clearInterval(charInterval);
                        isAnimating = false;
                        setTimeout(animateFooterCopy, 3000);
                    }
                }, 150);
            }
            setTimeout(animateFooterCopy, 2000);
        })();
    </script>
</body>
</html>